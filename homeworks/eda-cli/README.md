# eda-cli — мини-приложение для EDA

`eda-cli` — это учебное CLI-приложение для первичного разведочного анализа данных (EDA) CSV-файлов.
Проект разработан в рамках **HW03 (семинар S03)** и демонстрирует:

- структуру Python-проекта на `uv` с `src/`-layout;
- вынос EDA-логики в отдельные модули;
- расширение функциональности через CLI-параметры;
- написание простых модульных тестов.

---

## Структура проекта

```
eda-cli/
├── README.md
├── pyproject.toml
├── uv.lock
├── src/
│   └── eda_cli/
│       ├── __init__.py
│       ├── core.py      # расчёт метрик и эвристик качества данных
│       ├── viz.py       # визуализации
│       └── cli.py       # CLI-команды
├── tests/
│   └── test_core.py    # тесты эвристик качества данных
└── data/
    └── example.csv     # учебный датасет
```

---

## Установка и запуск

Перейдите в папку проекта и установите зависимости:

```bash
uv sync
```

Проверка запуска CLI:

```bash
uv run eda-cli overview data/example.csv
```

Генерация отчёта:

```bash
uv run eda-cli report data/example.csv --out-dir reports_example
```

Запуск тестов:

```bash
uv run pytest -q
```

---

## CLI-команды

### `overview`

Краткая сводка по датасету:

```bash
uv run eda-cli overview data/example.csv
```

Выводит:
- размерность датасета;
- информацию о типах колонок;
- базовые статистики.

---

### `report`

Формирует подробный EDA-отчёт и сохраняет его в указанную директорию.

Базовый пример:

```bash
uv run eda-cli report data/example.csv --out-dir reports_example
```

#### Дополнительные параметры `report`

| Параметр | Описание |
|--------|----------|
| `--max-hist-columns` | Максимальное число числовых колонок для гистограмм |
| `--top-k-categories` | Количество top-значений для категориальных признаков |
| `--report-title` | Заголовок отчёта (первая строка `report.md`) |
| `--min-missing-share` | Порог доли пропусков, выше которого колонка считается проблемной |

Пример использования с параметрами:

```bash
uv run eda-cli report data/example.csv \
  --out-dir reports_example \
  --top-k-categories 10 \
  --max-hist-columns 5 \
  --min-missing-share 0.3 \
  --report-title "EDA Report for Example Dataset"
```

Значения параметров отражаются в тексте `report.md` и влияют на состав отчёта.

---

## Эвристики качества данных

В `core.py` реализованы дополнительные эвристики качества данных:

- `has_constant_columns` — наличие колонок с одним уникальным значением;
- `has_high_cardinality_categoricals` — категориальные признаки с большим числом уникальных значений;
- `has_suspicious_id_duplicates` — дубли идентификаторов;
- `has_many_zero_values` — высокая доля нулевых значений в числовых колонках.

Результаты эвристик:
- возвращаются из `compute_quality_flags`;
- учитываются при расчёте интегрального показателя `quality_score`;
- используются при формировании отчёта.

---

## Дополнительная функциональность








Реализована дополнительная CLI-команда `head`, позволяющая вывести первые строки датасета:

```bash
uv run eda-cli head data/example.csv --n 5
```

Команда:
- загружает CSV-файл;
- выводит первые `n` строк;
- предназначена для быстрого просмотра данных.

---

## Тестирование

Тесты находятся в `tests/test_core.py` и проверяют корректность работы новых эвристик качества данных.

Запуск:

```bash
uv run pytest -q
```

---

## Примечание

Проект предназначен для учебных целей и демонстрации принципов
организации Python-проектов, CLI-интерфейсов и базового EDA.